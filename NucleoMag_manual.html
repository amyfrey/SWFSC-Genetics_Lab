<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>nucleomag_manual</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="NucleoMag_manual_files/libs/clipboard/clipboard.min.js"></script>
<script src="NucleoMag_manual_files/libs/quarto-html/quarto.js"></script>
<script src="NucleoMag_manual_files/libs/quarto-html/popper.min.js"></script>
<script src="NucleoMag_manual_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="NucleoMag_manual_files/libs/quarto-html/anchor.min.js"></script>
<link href="NucleoMag_manual_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="NucleoMag_manual_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="NucleoMag_manual_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="NucleoMag_manual_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="NucleoMag_manual_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="procedure-to-extract-dna-from-tissue-using-a-manual-nucleomag-bead-protocol-pr-034.00" class="level1 unnumbered">
<h1 class="unnumbered">Procedure to extract DNA from Tissue using a Manual NucleoMag Bead Protocol PR-034.00</h1>
<p>SOP IDENTIFIER: PR-034.00<br>
ORIGINAL SOP DATE: 4/03/2020<br>
NUMBER OF PAGES IN SOP: 9<br>
REVISION NUMBER: 00<br>
REVISION DATE: N/A<br>
WRITTEN BY: Erin LaCasella 4/03/2020<br>
REVIEWED BY: Suzanne Roden 4/16/2020<br>
APPROVED BY: Victoria Pease 10/27/2020<br>
EFFECTIVE DATE: 10/27/2020<br>
</p>
<p><strong>Scope and Purpose:</strong><br>
To isolate genomic DNA from marine turtle, cetacean and pinniped skin, muscle, and internal organ tissue.</p>
<p><strong>Summary of Method: </strong><br>
Marine animal tissue is digested with the active digestive enzyme Proteinase K. Genomic DNA is then isolated and purified from this digested material using magnetic beads and a series ofwashes. This is a 2 day procedure, about 2-3 hours each day depending on the number of samples (full plate is 96 samples).</p>
<p><strong>Health and Safety Warnings:</strong><br>
• Wear latex or nitrile gloves, closed-toe shoes and a lab coat.<br>
• This procedure uses chemicals that may be harmful. Please read Appendix A before performing this protocol.<br>
• Be careful handling razor blades (see razor blade safety in Appendix A).<br>
• If using frozen tissues, equilibrate tissues to room temperature for razor blade safety.<br>
• Rinse forceps in MilliQ water after bleach rinse to prevent corrosion of forceps.<br>
</p>
<p><strong>Quality Control:</strong><br>
• Wear latex or nitrile gloves throughout extraction protocol.<br>
• Wipe down all pipettes and bench surface with 10% bleach squirt bottle followed by 70% EtOH squirt bottle before placing bench paper down.<br>
• Always use a new razor blade, forceps, and weighing dish when cutting up subsequent tissue and rinse each forceps with bleach and water after each use.<br>
• Always use filtered tips and change them each time when adding reagents to samples if tissue is already inside the wells.<br>
• Include a negative control for each batch of extractions (1 negative per 8 samples extracted).<br>
</p>
<p><strong>Equipment and Supplies:</strong>&nbsp;<em>(see Reagent list in SOP Binder for reagent locations)</em><br>
1. Bench paper<br>
2. Gloves<br>
3. Bleach<br>
4. MilliQ water<br>
5. Bleach spray bottle<br>
6. Ethanol spray bottle<br>
7. MilliQ squirt bottle (benchtop)<br>
8. New razor blades (1 per sample)<br>
9. Plastic weighing dishes (1 per sample)<br>
10. Forceps<br>
11. Two Beakers (one for 10% bleach solution, one for MilliQ water)<br>
12. Reagent reservoirs and base<br>
13. 25 ml graduated cylinder<br>
14. Ethanol waste container<br>
15. Strip tubes (or 96-well sample plate if preferred)<br>
16. Strip tube caps (or aluminum sealing foil - AlumaSeal)<br>
17. Pipettes (10μL, 100μL, 1000μL)<br>
18. Pipette tips (10μL, 100μL, 1000μL)<br>
19. Multi-channel pipettes (20μL, 200μL, 1000μL)<br>
20. Multi-channel pipette tips (20μL, 200μL, 1000μL)<br>
21. Serological Pipette Controller<br>
22. Serological Pipette (10ml)<br>
23. 1.7ml tube (or 15ml falcon tube) for mixing<br>
24. Magnetic separator (NucleoMag SEP magnetic plate/separation system)<br>
25. Vortemp<br>
26. Vortex<br>
27. Plate centrifuge<br>
28. Extraction Reagents:<br>
• MilliQ water<br>
• 100% Ethanol (made fresh to 80% ethanol)<br>
• Proteinase K<br>
• NucleoMag beads<br>
• Lifton’s Buffer (100 mM EDTA, 25 mM tris-HCl pH7.5, 1% SDS: see SOP GE- 033.00)<br>
• Digestion Master Mix (made fresh: Lifton’s Buffer, 0.075 M DTT, 4.2 mg/ml Proteinase K: see Appendix B)<br>
• Hybridization Buffer (2.5 M NaCl, 20% PEG 8000, 0.025 M DTT: see SOP GE- 034.00)<br>
• Low TE (10 mM tris-HCL pH 7.5, 0.1 mM EDTA: see SOP GE-007.00)<br>
<strong>Procedures:</strong><br>
<u><em>Day one – Digestion (Approximate time: 3 hrs for 96 samples)</em></u></p>
<ol type="1">
<li><p>Create extraction grid <em>(see SOP PR-010.00)</em><br>
</p></li>
<li><p>Clean the benchtop with bleach and ethanol and cover with new bench paper.<br>
</p></li>
<li><p>Make a 10% bleach solution in a beaker and fill a beaker with MilliQ water, both for rinsing forceps.<br>
</p></li>
<li><p>Set up razor blades, weighing dishes (to cut on), forceps, beakers and PCR rack with strip tubes or 96-well plate.<br>
</p></li>
<li><p>Label the strip tubes or 96-well plate with your initials and dates and mark each extraction negative by outlining the top of the wells with a sharpie.<br>
</p></li>
<li><p>Add 80μL Liftons buffer to each well<br>
</p></li>
<li><p>For each sample, use clean forceps, remove tissue from vial, rinse with MilliQ squirt bottle and place in a new weighing dish.<br>
</p></li>
<li><p>Using a new razor blade, cut a piece of tissue approximately 2mm/2mm square. Chop tissue into smaller pieces then add to each well. (If working with hatchling biopsy samples, use entire piece, approx. size ~1 x 2 x 0.5mm).<br>
</p></li>
<li><p>Place forceps into bleach-rinse beaker after every sample and then into the MilliQ rinse beaker to use for the next sample. Place used razor blades in the sharps container. Onlyopen one strip cap at a time and reseal when all eight wells are filled to prevent cross contamination of samples.<br>
</p></li>
<li><p>Make Digestion Master Mix – fresh each time <em>(see Appendix B)</em>. *It is important that the mix is made just before adding it to the samples, and that it is vortexed. (if using a multichannel pipette, make the mix in a falcon tube, mix then add to a reagent reservoir).<br>
</p></li>
<li><p>Add 40μL of Digestion Master Mix to each well.<br>
</p></li>
<li><p>Make sure all lids are on tight or the plate is sealed with AlumaSeal and vortex to mix.<br>
</p></li>
<li><p>Quickly spin down strip tubes (or plate) in centrifuge to get liquid off the lids/AlumaSeal.<br>
</p></li>
<li><p>Incubate samples in the Vortemp for 55 C for 4 hrs or at 37 C overnight. Make sure the Vortemp is set at 0 RPM. Do not digest at higher temperatures to avoid caps popping off or lifting of the AlumaSeal.<br>
[<em>Day two – Isolating and Purifying DNA</em>] {.underline}</p></li>
<li><p>Quickly centrifuge the plate to collect any condensation, vortex the plate for 30 sec, and spin the plate again<br>
</p></li>
<li><p>If all the tissue is digested, move on to the next step. Otherwise, transfer 80μL of the lysate from the top of the wells to a new plate/strip tubes. <u><em>Leave any solids behind.</em></u><br>
</p></li>
<li><p>Add 80μL Hybridization Buffer and 20μL resuspended NucleoMag beads to the lysate.<br>
</p></li>
<li><p>Seal well and vortex to mix or mix by pipetting up and down 10 times.<br>
</p></li>
<li><p>Incubate plate/strip tubes at room temperature for 1 min then quickly spin down the plate.<br>
</p></li>
<li><p>Place on the magnetic separator (~2 min until all the beads have been attracted to the magnet).<br>
</p></li>
<li><p>Aspirate the supernatant (approx. 220μL) and discard while seated on the magnetic separator. Note: DNA is now bound to the beads.<br>
<u><em>Do not disturb the beads while aspirating the supernatant. The magnetic pellet is not visible in this step. Remove supernatant from the opposite side of the well.</em></u><br>
</p></li>
<li><p>Remove the plate from the magnetic separator and add 150μL freshly prepared 80% Ethanol.<br>
</p></li>
<li><p>Seal well and vortex or mix by pipetting up and down 10 times to resuspend the beads.<br>
</p></li>
<li><p>Quickly spin down the plate and place back on the magnetic separator.<br>
</p></li>
<li><p>Aspirate the supernatant and discard while seated on the magnetic separator.<br>
</p></li>
<li><p>Repeat steps 8-11 two more times (for a total of three washes).<br>
</p></li>
<li><p>Allow the beads to air dry while seated on the magnetic separator (for approx. 10 min) <u><em>It is very important that Ethanol is not carried over.</em></u><br>
</p></li>
<li><p>Elute DNA by adding 50μL-100 μL Low TE to each well.<br>
</p></li>
<li><p>Remove from the magnetic separator, seal and vortex or mix by pipetting up and down 10 times to resuspend the beads.<br>
</p></li>
<li><p>Incubate for 5 min at room temperature.<br>
</p></li>
<li><p>Place plate on the magnetic separator (~2 min until all the beads have been attracted to the magnet) and remove the supernatant containing the DNA to a new plate/strip tubes.<br>
</p></li>
<li><p>DNA is ready to use.<br>
</p></li>
<li><p>Cap/seal, label and store the used sample tubes until the negatives have been determined clean.<br>
</p></li>
<li><p>Enter extractions into Extraction Database (see SOP PR-010.00).<br>
<strong>Waste Management:</strong><br>
Dispose of used razor blades in a designated sharps container. Bleach solution and water should be rinsed down the sink. The Ethanol waste should be discarded in the “Ethanol Waste” container stored in the flammable cabinet in the General Lab. Plastics and other liquids can be thrown in the trash. If there are questions on handling chemicals contact the Safety Officer or Lab Manager. Spills, cuts or other accidents should be reported to the Safety Officer and Lab Manager.<br>
<strong>References:</strong><br>
Modified from Sean O’Rourke, Mike Miller. “Easy UCD DNA digests”. April 2015.<br>
For SDS information, go to C:\UsersGenetics SDS (see Lab Manager for designated computers).</p></li>
</ol>
<p><strong>Hazardous substance information: </strong><br>
<a href="https://epa.gov/ceppo/pubs/title3.pdf" class="uri">https://epa.gov/ceppo/pubs/title3.pdf</a></p>
<p><strong>Appendix A: Chemical Health and Safety Warnings</strong></p>
<p><strong>Bleach</strong><br>
Irritating to eyes and skin. Harmful if swallowed.<br>
<u>First Aid</u><br>
<em>Eyes</em> - flush with water for 15-20 minutes. Call a physician.<br>
<em>Skin</em> - Wash skin with water for 15-20 minutes. If irritation develops, call a physician.<br>
<em>Ingestion</em> - Do not induce vomiting. Drink a glassful of water. If irritation develops, call a physician.<br>
<em>Inhalation</em> - Remove to fresh air. If breathing is affected, call a physician.<br>
</p>
<p><strong>DTT</strong><br>
Harmful by inhalation, contact with skin and if swallowed.<br>
<u>First Aid</u><br>
Symptoms of poisoning may even occur after several hours; therefore medical observation for at least 48 hours after the accident. Supply fresh air. If required provide artificial respiration. In case of contact with eyes, flush with copious amounts of water. If swallowed contact physician immediately.<br>
</p>
<p><strong>EDTA</strong><br>
Irritating to the eyes, skin and the mucous membrane of the upper respiratory tract. It is flammable –do not expose to heat or flame. Flame caused by EDTA can be extinguished by carbon dioxide, foam, water or dry chemicals. EDTA has emerged as a persistent organic pollutant.<br>
<u>First Aid</u><br>
<em>Skin</em>: rinse with water immediately<br>
<em>Eye contact</em>: wash with water immediately and contact a physician right away.</p>
<p><strong>Ethanol (ETOH)</strong><br>
Highly flammable. Causes moderate skin irritation. Inhalation may cause respiratory tract irritation, nausea, headaches, dizziness and suffocation.<br>
<u>First Aid</u><br>
<em>Inhalation</em>: supply fresh air and oxygen<br>
<em>Eyes</em>: rinse opened eye for at least 15 minutes under running water<br>
<em>Skin</em>: remove contaminated clothing and immediately wash area with soap and water.<br>
<em>Ingestion</em>: wash mouth with water and seek medical attention. Do not induce vomiting.<br>
</p>
<p><strong>NucleoMag Beads</strong><br>
No SDS needed<br>
</p>
<p><strong>PB (Proteinase Buffer)</strong><br>
No SDS needed<br>
</p>
<p><strong>PEG-4000 (50%)</strong><br>
Occupational exposure presents little or no health hazard. Potential effects include: irritation of the eye, skin irritation, or nausea and vomiting if ingested.<br>
<u>First Aid</u><br>
<em>Eyes</em>: flush with water for at least 15 minutes. See a doctor if symptoms develop.<br>
<em>Skin</em>: wash with soap and water. See a doctor if symptoms develop.<br>
<em>Ingestion</em>: wash out mouth completely with water if person is conscious. Seek medical attention if symptoms develop.<br>
</p>
<p><strong>Proteinase K</strong><br>
Sensitizer and irritant. Irritating to the eyes, respiratory system and skin. It may cause respiratory sensitization by inhalation and skin corrosion/irritation with contact.<br>
<u>First Aid</u><br>
<em>Eyes</em>: rinse immediately with plenty of water and seek medical advice.<br>
<em>Inhalation</em>: If experiencing respiratory symptoms seek medical attention.<br>
</p>
<p><strong>SDS</strong><br>
Respiratory, skin and eye irritant. Harmful if swallowed, inhaled or absorbed through the skin.<br>
<u>First Aid</u><br>
<em>Inhalation</em>: move to fresh air; give artificial respiration or oxygen if needed<br>
<em>Eyes</em>: flush with water<br>
<em>Skin</em>: contact, remove contaminated clothing, shoes, or contact lenses; flush with copious amounts of water.<br>
<em>Ingestion</em>: wash out mouth with water if person is conscious. Seek medical attention.<br>
</p>
<p><strong>Tris HCl</strong><br>
Irritating to the eyes, skin, mucous membrane and the upper respiratory tract. When inhaled, it can cause irritation, cough and shortness of breath. Chronic ingestion can cause nausea, vomiting and diarrhea; large amounts can cause weakness, collapse and coma. Exposing the substance to excessive heat may cause thermal decomposition and produce toxic fumes like carbon monoxide.<br>
<u>First Aid</u><br>
<em>Eyes</em>: flush with water for 15 minutes<br>
<em>Skin</em>: flush with water and wash thoroughly with soap and water. Remove contaminated clothing. Get medical attention if irritation persists.<br>
<em>Inhalation</em>: remove victim from area of exposure and move him/her to fresh air.<br>
<em>Ingestion</em>: drink water and seek immediate medical attention<br>
</p>
<p><strong>Sodium Chloride (solid NaCl)</strong><br>
Slightly hazardous in case of skin contact (irritant), eye contact (irritant), ingestion, or inhalation.<br>
<u>First Aid</u><br>
<em>Eyes</em>: Immediately flush eyes with plenty of water for at least 15 minutes.<br>
<em>Skin</em>: wash with soap and water and cover the irritated skin with an emollient.<br>
<em>Inhalation</em>: move to fresh air<br>
<em>Ingestion</em>: do not induce vomiting unless directed to do so by medical personnel<br>
</p>
<p><strong>Additional Safety Information</strong><br>
<u><strong><em>Blade Safety</em></strong></u><br>
Our most common lab accident is razor blade and scalpel cuts. These range in severity from a minor cut with a clean blade to severing tendons with a dirty blade. Since we are often working with dead mammal tissue, infection from a dirty blade is almost a guarantee. Usually you are started on antibiotics, and sometimes stitches or even surgery are required. We can avoid these accidents if we really take our use of blades seriously and follow a few good practices.<br>
When to use a blade:<br>
• Razor blades and scalpels are for working with small pieces of tissue. If your sample is large use an appropriate knife.<br>
• Only use a blade on tissue that requires very little force applied (the amount you might apply to cut a piece of toast). If you have to press hard you’ve got the wrong tool and are endangering yourself.<br>
Good practices with a blade:<br>
• Cut away from yourself. I know you know, but we all cheat on this one and if we didn’t there would be a lot less accidents …and in the lab environment the accidents can be severe.<br>
• Use something other than your hand/fingers to hold the sample in place. Since it is a small sample you should be able to use things like forceps, a toothpick, a needle, etc. • Let your piece thaw enough to allow you to cut it easily (again like toast).<br>
• Look at the blade before you cut. There have been times when people have pushed down on the wrong edge of a razor blade, or grabbed the wrong end of the scalpel.<br>
• Never apply force at an angle. Cut straight down etc. Blades can snap when oblique force is applied and the pieces go airborne.<br>
• Wear safety glasses.<br>
• Report all cuts to the Lab Manager and Safety Officer<br>
</p>
<p><strong>Appendix B: Digestion Master Mix</strong><br>
<em>Important to make fresh each time</em> <u>Equipment and Supplies:</u><br>
• Lifton’s Buffer<br>
• DTT (1M)<br>
• Proteinase K (4.2 mg/ml)<br>
• Pipettes (10μL, 100μL, 1000μL)<br>
• Pipette tips (20μL, 100μL, 1000μL)<br>
• Multi-channel pipette (20μL, 1000μL)<br>
• Multi-channel pipette tips (20μL, 1000μL)<br>
• Serological Pipette Controller<br>
• Serological Pipette Tip (10ml)<br>
• 1.7 ml tube (or 15ml falcon tube) for mixing<br>
• Reagent reservoir<br>
<u><em>To make 1X you will need to add (in a 1.7ml tube):</em></u><br>
20 μL Lifton’s buffer<br>
17 μL Proteinase K (10 mg/ml)<br>
3.0 μL DTT (1 M)<br>
<u><em>To make enough for a full plate (110X) you will need to add (in a 15ml conical tube):</em></u><br>
2.2 ml Lifton’s buffer<br>
1.87 ml Proteinase K (10 mg/ml)<br>
330 μL DTT (1M)<br>
</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>